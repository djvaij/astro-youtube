---
import Layout from '../layouts/Layout.astro';
import { IProduct } from '../types';
import ProductsCard from '../components/ProductCard';
import Visible from '../components/Visible';

const response = await fetch('https://fakestoreapi.com/products');
const products = await response.json() as IProduct[];

---

<Layout title="Products">
  <h1 class="text2xl font-bold">Products page</h1>

  { products.map((product) => <ProductsCard client:load product={product} />) }

  <Visible client:visible />
</Layout>